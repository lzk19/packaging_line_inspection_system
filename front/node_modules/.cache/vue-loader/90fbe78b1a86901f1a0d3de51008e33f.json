{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\前端5.10\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\前端5.10\\src\\views\\Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\前端5.10\\src\\views\\Home.vue","mtime":1652150850857},{"path":"C:\\Users\\Administrator\\Desktop\\前端5.10\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1651901507383},{"path":"C:\\Users\\Administrator\\Desktop\\前端5.10\\node_modules\\babel-loader\\lib\\index.js","mtime":1651901509007},{"path":"C:\\Users\\Administrator\\Desktop\\前端5.10\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1651901507383},{"path":"C:\\Users\\Administrator\\Desktop\\前端5.10\\node_modules\\vue-loader\\lib\\index.js","mtime":1651901509384}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAidGltZUNvdW50IiwKICAvL+i/meS4quaWueazleaYr+S4gOi/m+WFpemhtemdouWwseaYvuekuuaVsOaNrgogIGNyZWF0ZWQgKCkgewogICAgLy8g6LCD55So5b2T5YmN55qEZ2V0VXNlckxpc3Tmlrnms5UKICAgIHRoaXMuZ2V0SGVhZGVyRGF0YUl0ZW0oKTsKICAgIHRoaXMuZ2V0SGFuZG92ZXJMaXN0KCk7CgogICAgLy8gdGhpcy5nZXRIZWFkZXJEYXRhTmFtZSgpOwoKICAgIC8vIHRoaXMubG9hZCgpCiAgfSwKCiAgZGF0YSAoKSB7CiAgICByZXR1cm4gewogICAgICBpZDogJycsCiAgICAgIGVuZFRpbWU6IDAsCiAgICAgIHNlY29uZDogMCwKICAgICAgaW50ZXJ2YWw6IG51bGwsCiAgICAgIGRpc2FibGU6IHRydWUsCiAgICAgIHVwZGF0ZVJlY29yZERpYWxvZ1Zpc2libGU6IHRydWUsCiAgICAgIGhhbmRMaXN0OiBbXSwKCiAgICAgIGhlYWRlckRhdGFMaXN0OiBbXSwKCiAgICAgIGFkZEhlYWRlckRhdGFGb3JtOiB7CiAgICAgICAgbmFtZTogIiIsCiAgICAgICAgZGF0ZTogIiIsCiAgICAgICAgc2hpZnQ6ICIiLAogICAgICAgIGxpbmU6ICIiLAogICAgICB9LAoKICAgICAgYWRkSGVhZGVyRGF0YUZvcm1SdWxlczogewogICAgICAgIG5hbWU6IFt7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi6K+36L6T5YWl5aeT5ZCNIiwgdHJpZ2dlcjogImJsdXIiIH1dLAogICAgICAgIGRhdGU6IFt7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi6K+36L6T5YWl5pel5pyfIiwgdHJpZ2dlcjogImJsdXIiIH1dLAogICAgICAgIHNoaWZ0OiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuivt+i+k+WFpeePreasoSIsIHRyaWdnZXI6ICJibHVyIiB9XSwKICAgICAgICBsaW5lOiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuivt+i+k+WFpee6v+WPtyIsIHRyaWdnZXI6ICJibHVyIiB9XSwKICAgICAgfSwKCiAgICAgIHBpY2tlck9wdGlvbnM6IHsKICAgICAgICBkaXNhYmxlZERhdGUgKHRpbWUpIHsKICAgICAgICAgIHJldHVybiB0aW1lLmdldFRpbWUoKSA+IERhdGUubm93KCk7CiAgICAgICAgfSwKICAgICAgfSwKICAgICAgZGF0ZXZhbHVlOiAiIiwKCiAgICAgIHNoaWZ0b3B0aW9uczogWwogICAgICAgIHsKICAgICAgICAgIHZhbHVlOiAi55m954+tIiwKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHZhbHVlOiAi5aSc54+tIiwKICAgICAgICB9LAogICAgICBdLAogICAgICBzaGlmdHZhbHVlOiAiIiwKCiAgICAgIGxpbmVvcHRpb25zOiBbCiAgICAgICAgewogICAgICAgICAgdmFsdWU6ICIx5Y+357q/IiwKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHZhbHVlOiAiMuWPt+e6vyIsCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICB2YWx1ZTogIjPlj7fnur8iLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdmFsdWU6ICI05Y+357q/IiwKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHZhbHVlOiAiNeWPt+e6vyIsCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICB2YWx1ZTogIjblj7fnur8iLAogICAgICAgIH0sCiAgICAgIF0sCiAgICAgIGxpbmV2YWx1ZTogIiIsCiAgICB9OwogIH0sCgogIHByb3BzOiB7CiAgICAvL+WAkuiuoeaXtuaXtumXtAogICAgbG9uZ1RpbWU6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAxLAogICAgfSwKICAgIC8v5by55Ye65qGG5qCH6aKYCiAgICBtZXNzYWdlVGl0bGU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAiIiwKICAgIH0sCiAgICAvL+W8ueWHuuahhuWGheWuuQogICAgbWVzc2FnZVRleHQ6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAiIiwKICAgIH0sCiAgfSwKCiAgbW91bnRlZCAoKSB7CiAgICAvL+e7k+adn+aXtumXtAogICAgdGhpcy5lbmRUaW1lID0gRGF0ZS5wYXJzZShuZXcgRGF0ZSgpKSArIHRoaXMubG9uZ1RpbWUgKiAxMDAwOwogICAgLy/lvIDlp4vlgJLorqHml7YKICAgIHRoaXMuY291bnRkb3duKCk7CiAgfSwKICBiZWZvcmVEZXN0cm95ICgpIHsKICAgIC8v5o+Q5YmN57uT5p2f5YiZ6ZSA5q+B5YCS6K6h5pe2CiAgICBjbGVhclRpbWVvdXQodGhpcy5pbnRlcnZhbCk7CiAgfSwKCgogIG1ldGhvZHM6IHsKCiAgICBnZXRIZWFkZXJEYXRhSXRlbSgpIHsKICAgICAgdGhpcy5yZXF1ZXN0LmdldCgiL2dldEhlYWRlckRhdGEiKS50aGVuKHJlcyA9PiB7CiAgICAgICAgdGhpcy5oZWFkZXJEYXRhTGlzdCA9IHJlcy5kYXRhCiAgICAgIH0pfSwKCiAgICBhZGRIZWFkZXJEYXRhICgpIHsKICAgICAgdGhpcy4kcmVmcy5hZGRIZWFkZXJEYXRhUmVmLnZhbGlkYXRlKGFzeW5jICh2YWxpZCkgPT4gewogICAgICAgIGlmICghdmFsaWQpIHJldHVybjsKICAgICAgICB0aGlzLnJlcXVlc3QucG9zdCgiL2FkZEhlYWRlckRhdGEiLCB0aGlzLmFkZEhlYWRlckRhdGFGb3JtKS50aGVuKHJlcyA9PiB7CiAgICAgICAgaWYgKHJlcy5jb2RlID09PSAnMjAwJykgewogICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLmj5DkuqTmiJDlip8iKQogICAgICAgICAgdGhpcy5nZXRIZWFkZXJEYXRhSXRlbSgpCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuaPkOS6pOWksei0pSIpCiAgICAgICAgfQogICAgICB9KQogICAgICB9KTsKICAgIH0sCgogICAgY291bnRkb3duICgpIHsKICAgICAgLy/orqHnrpfov5DooYzml7bpl7QKICAgICAgY29uc3QgZW5kID0gdGhpcy5lbmRUaW1lOwogICAgICBjb25zdCBub3cgPSBEYXRlLnBhcnNlKG5ldyBEYXRlKCkpOwogICAgICBjb25zdCBtc2VjID0gZW5kIC0gbm93OwogICAgICAvL+iuoeeul+WJqeS9meaXtumXtAogICAgICB0aGlzLnNlY29uZCA9IChtc2VjIC8gMTAwMCkgJSA2MDsKICAgICAgY29uc3QgdGhhdCA9IHRoaXM7CiAgICAgIC8v57uT5p2f5YiZ5by55qGGCiAgICAgIGlmIChtc2VjICE9IDApIHsKICAgICAgICB0aGlzLmludGVydmFsID0gc2V0VGltZW91dCh0aGF0LmNvdW50ZG93biwgMTAwMCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5kaXNhYmxlID0gZmFsc2U7CiAgICAgIH0KICAgIH0sCgogICAgYXN5bmMgZ2V0SGFuZG92ZXJMaXN0ICgpIHsKICAgICAgdGhpcy5yZXF1ZXN0LmdldCgiL2dldEhhbmRvdmVyUmVjb3JkIikudGhlbihyZXMgPT57CiAgICAgICAgdGhpcy5oYW5kTGlzdCA9IHJlcy5kYXRhOwogICAgICB9KQogICAgICAKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8GA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template >\n\n  <div>\n    <h2>欢迎使用默沙东包装线长在线检查平台</h2>\n    <h2>请输入姓名并选择日期时间、班次以及线号，确认后提交</h2>\n\n    <el-dialog :visible.sync=\"updateRecordDialogVisible\"\n               center\n               v-dialogDrag\n               :close-on-press-escape=\"false\"\n               :show-close=\"false\"\n               :close-on-click-modal=\"false\"\n               width=\"580px\">\n      <!-- 在dialog里添加div然后把div的样式设置成height:60vh;overflow:auto这样 表示其大小为相对视窗大小 -->\n      <div style=\"height: 640px; margin-top: -30px\">\n        <el-row v-for=\"(item, index) in handList\"\n                :key=\"index\"\n                :label1=\"item\">\n          <el-card style=\"padding-bottom: 20px\">\n            <span class=\"span1\">全线通知：<br /></span>\n            <el-col class=\"col1\">{{ item.common }}</el-col>\n          </el-card>\n          <el-card style=\"margin-top: 30px; padding-bottom: 20px\">\n            <span class=\"span1\">专线通知：<br /> </span>\n            <el-col class=\"col2\">{{ item.special }}</el-col>\n          </el-card>\n        </el-row>\n      </div>\n\n      <span slot=\"footer\"\n            class=\"dialog-footer\">\n        <el-button type=\"primary\"\n                   :disabled=\"disable\"\n                   style=\"width: 100px; height: 38px\"\n                   @click=\"updateRecordDialogVisible = false\">已阅读 {{ this.second }}</el-button>\n      </span>\n    </el-dialog>\n\n    <el-form :inline=\"true\"\n             :model=\"addHeaderDataForm\"\n             ref=\"addHeaderDataRef\"\n             :rules=\"addHeaderDataFormRules\">\n      <el-form-item prop=\"name\">\n        <el-input v-model=\"addHeaderDataForm.name\"\n                  placeholder=\"请输入姓名\"\n                  clearable\n                  style=\"width: 150px\"></el-input>\n      </el-form-item>\n\n      <el-form-item prop=\"date\">\n        <el-date-picker v-model=\"addHeaderDataForm.date\"\n                        type=\"date\"\n                        placeholder=\"请选择日期\"\n                        style=\"width: 150px\"\n                        format=\"yyyy-MM-dd\"\n                        value-format=\"yyyy-MM-dd\">>\n        </el-date-picker>\n      </el-form-item>\n\n      <el-form-item prop=\"shift\">\n        <el-select v-model=\"addHeaderDataForm.shift\"\n                   placeholder=\"请选择班次\"\n                   style=\"width: 150px\">\n          <el-option v-for=\"item in shiftoptions\"\n                     :key=\"item.value\"\n                     :label=\"item.label\"\n                     :value=\"item.value\">\n          </el-option>\n        </el-select>\n      </el-form-item>\n\n      <el-form-item prop=\"line\">\n        <el-select v-model=\"addHeaderDataForm.line\"\n                   placeholder=\"请选择线号\"\n                   style=\"width: 150px\">\n          <el-option v-for=\"item in lineoptions\"\n                     :key=\"item.value\"\n                     :label=\"item.label\"\n                     :value=\"item.value\">\n          </el-option>\n        </el-select>\n      </el-form-item>\n\n      <el-form-item>\n        <el-button @click=\"addHeaderData\"\n                   type=\"info\"\n                   plain>提交</el-button>\n      </el-form-item>\n    </el-form>\n\n    <el-table :data=\"headerDataList\"\n              border\n              style=\"width: 642px\">\n      <el-table-column label=\"姓名\"\n                       prop=\"name\"\n                       width=\"160px\"></el-table-column>\n      <el-table-column label=\"时间\"\n                       prop=\"date\"\n                       width=\"160px\"></el-table-column>\n      <el-table-column label=\"班次\"\n                       prop=\"shift\"\n                       width=\"160px\"></el-table-column>\n      <el-table-column label=\"线号\"\n                       prop=\"line\"\n                       width=\"160px\"></el-table-column>\n    </el-table>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"timeCount\",\n  //这个方法是一进入页面就显示数据\n  created () {\n    // 调用当前的getUserList方法\n    this.getHeaderDataItem();\n    this.getHandoverList();\n\n    // this.getHeaderDataName();\n\n    // this.load()\n  },\n\n  data () {\n    return {\n      id: '',\n      endTime: 0,\n      second: 0,\n      interval: null,\n      disable: true,\n      updateRecordDialogVisible: true,\n      handList: [],\n\n      headerDataList: [],\n\n      addHeaderDataForm: {\n        name: \"\",\n        date: \"\",\n        shift: \"\",\n        line: \"\",\n      },\n\n      addHeaderDataFormRules: {\n        name: [{ required: true, message: \"请输入姓名\", trigger: \"blur\" }],\n        date: [{ required: true, message: \"请输入日期\", trigger: \"blur\" }],\n        shift: [{ required: true, message: \"请输入班次\", trigger: \"blur\" }],\n        line: [{ required: true, message: \"请输入线号\", trigger: \"blur\" }],\n      },\n\n      pickerOptions: {\n        disabledDate (time) {\n          return time.getTime() > Date.now();\n        },\n      },\n      datevalue: \"\",\n\n      shiftoptions: [\n        {\n          value: \"白班\",\n        },\n        {\n          value: \"夜班\",\n        },\n      ],\n      shiftvalue: \"\",\n\n      lineoptions: [\n        {\n          value: \"1号线\",\n        },\n        {\n          value: \"2号线\",\n        },\n        {\n          value: \"3号线\",\n        },\n        {\n          value: \"4号线\",\n        },\n        {\n          value: \"5号线\",\n        },\n        {\n          value: \"6号线\",\n        },\n      ],\n      linevalue: \"\",\n    };\n  },\n\n  props: {\n    //倒计时时间\n    longTime: {\n      type: Number,\n      default: 1,\n    },\n    //弹出框标题\n    messageTitle: {\n      type: String,\n      default: \"\",\n    },\n    //弹出框内容\n    messageText: {\n      type: String,\n      default: \"\",\n    },\n  },\n\n  mounted () {\n    //结束时间\n    this.endTime = Date.parse(new Date()) + this.longTime * 1000;\n    //开始倒计时\n    this.countdown();\n  },\n  beforeDestroy () {\n    //提前结束则销毁倒计时\n    clearTimeout(this.interval);\n  },\n\n\n  methods: {\n\n    getHeaderDataItem() {\n      this.request.get(\"/getHeaderData\").then(res => {\n        this.headerDataList = res.data\n      })},\n\n    addHeaderData () {\n      this.$refs.addHeaderDataRef.validate(async (valid) => {\n        if (!valid) return;\n        this.request.post(\"/addHeaderData\", this.addHeaderDataForm).then(res => {\n        if (res.code === '200') {\n          this.$message.success(\"提交成功\")\n          this.getHeaderDataItem()\n        } else {\n          this.$message.error(\"提交失败\")\n        }\n      })\n      });\n    },\n\n    countdown () {\n      //计算运行时间\n      const end = this.endTime;\n      const now = Date.parse(new Date());\n      const msec = end - now;\n      //计算剩余时间\n      this.second = (msec / 1000) % 60;\n      const that = this;\n      //结束则弹框\n      if (msec != 0) {\n        this.interval = setTimeout(that.countdown, 1000);\n      } else {\n        this.disable = false;\n      }\n    },\n\n    async getHandoverList () {\n      this.request.get(\"/getHandoverRecord\").then(res =>{\n        this.handList = res.data;\n      })\n      \n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.col1 {\n  height: 240px;\n  // background-color: antiquewhite;\n  font-family: Microsoft YaHei;\n  font-size: 18px;\n  color: #606266;\n  padding: 18px;\n}\n\n.col2 {\n  height: 240px;\n  // background-color: antiquewhite;\n  font-family: Microsoft YaHei;\n  font-size: 18px;\n  color: #606266;\n  padding: 18px;\n}\n\n.span1 {\n  font-family: Microsoft YaHei;\n  font-size: 25px;\n  color: #606266;\n}\n</style>\n"]}]}